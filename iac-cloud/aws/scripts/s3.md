# aws de butun regionlarda s3 bucketlerin siyahisi ve storage ucun script

```bash
for bucket in $(aws s3api list-buckets --query "Buckets[*].Name" --output text); do
    region=$(aws s3api get-bucket-location --bucket $bucket --query "LocationConstraint" --output text)
    [ "$region" == "None" ] && region="us-east-1"  # us-east-1 için özel durum
    
    echo "Bucket: $bucket (Region: $region)"
    
    if aws s3 ls s3://$bucket --region $region --recursive --summarize >/dev/null 2>&1; then
        aws s3 ls s3://$bucket --region $region --recursive --human-readable --summarize \
            | grep "Total Objects\|Total Size"
    else
        echo "Could not access bucket (check permissions or existence)"
    fi

    echo "--------------------------------------"
done

```
